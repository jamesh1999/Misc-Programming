Compiling test.cm into test.cpu...
Preprocessing...
Done

Tokenizing...
Token stream:
['int', 'fact', '(', 'int', 'n', ')', '{', 'int', 'r', '=', '1', ';', 'for', '(', 'int', 'i', '=', 'n', ';', 'i', '>', '1', ';', 'i', '-', '=', '1', ')', 'r', '*', '=', 'i', ';', 'return', 'r', ';', '}', 'int', 'main', '(', ')', '{', 'for', '(', 'int', 'i', '=', '0', ';', 'i', '<', '3', ';', 'i', '+', '=', '1', ')', 'printi', '(', 'i', ')', ';', 'return', 'fact', '(', '3', ')', '+', '6', ';', '}']


Parsing...
Generated parse tree:
- PROGRAM
|- START
|- ebnf_0
||...- stmnt_func
||   |- definition
||   || ... type_base
||   || STRING
||   |- func_scope
||   ||...- definition
||   ||   | ... type_base
||   ||   | STRING
||   ||- block
||   |||- ebnf_1
||   ||||- ebnf_1
||   |||||...- statement
||   |||||   |- stmnt_init
||   |||||   ||- definition
||   |||||   ||| ... type_base
||   |||||   ||| STRING
||   |||||   || ... INT
||   |||||...- stmnt_flow_for
||   |||||   |- stmnt_init
||   |||||   ||- definition
||   |||||   ||| ... type_base
||   |||||   ||| STRING
||   |||||   || ... STRING
||   |||||   |...- expr_conditional
||   |||||   |   | ... STRING
||   |||||   |   | op_conditional
||   |||||   |   | ... INT
||   |||||   |...- expr_assign
||   |||||   |   | STRING
||   |||||   |   |- op_assign
||   |||||   |   | ... INT
||   |||||   |- statement
||   |||||   ||...- expr_assign
||   |||||   ||   | STRING
||   |||||   ||   |- op_assign
||   |||||   ||   | ... STRING
||   ||||...- stmnt_flow_return
||   ||||   | ... STRING
||...- stmnt_func
||   |- definition
||   || ... type_base
||   || STRING
||   |- func_scope
||   ||- block
||   |||- ebnf_1
||   ||||...- stmnt_flow_for
||   ||||   |- stmnt_init
||   ||||   ||- definition
||   ||||   ||| ... type_base
||   ||||   ||| STRING
||   ||||   || ... INT
||   ||||   |...- expr_conditional
||   ||||   |   | ... STRING
||   ||||   |   | op_conditional
||   ||||   |   | ... INT
||   ||||   |...- expr_assign
||   ||||   |   | STRING
||   ||||   |   |- op_assign
||   ||||   |   | ... INT
||   ||||   |- statement
||   ||||   ||- stmnt_call
||   ||||   ||| macro
||   ||||   ||| ... STRING
||   ||||...- stmnt_flow_return
||   ||||   |...- expr_add
||   ||||   |   |...- stmnt_call
||   ||||   |   |   | STRING
||   ||||   |   |   | ... INT
||   ||||   |   | op_add
||   ||||   |   | ... INT
|- END



Locating symbols...
Symbol table:
    STRING |       TYPE |       ADDR |       SIZE |      SCOPE |  ARGUMENTS
---------------------------------------------------------------------------
      fact |        int |          0 |          4 |        [0] | [['int', 4]]
         n |        int |          0 |          4 |     [0, 0] |         []
         r |        int |          4 |          4 |     [0, 0] |         []
         i |        int |          8 |          4 |     [0, 0] |         []
      main |        int |          4 |          4 |        [0] |         []
         i |        int |          0 |          4 |     [0, 1] |         []


Generating code...
Constructed high level assembly:
0    : import setup
1    : import print
2    : Add SP 8
3    : Sub SP 8
4    : Halt

Saving to test.al...
Saved
